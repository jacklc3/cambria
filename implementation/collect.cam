with handler {
    return x -> return (x, ""),
    print(s; k) -> do x <- k () in
        do r1 <- fst x in
        do r2 <- join s (snd x) in
        return (r1, r2)
} handle (
    do x <- #print("A"; y.return y) in
    do y <- #print("B"; y.return y) in
    #print("C"; y.return y)
)
